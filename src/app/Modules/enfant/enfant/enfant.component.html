<!-- Button to Open the Modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
  Ajouter enfant
</button>

<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog">
      <div class="modal-content">
          <!-- Modal Header -->
          <div class="modal-header">
              <h4 class="modal-title">Ajouter un enfant</h4>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <!-- Modal body -->
          <div class="modal-body">
            <form [formGroup]="enfantForm" (ngSubmit)="onSubmit()">
              <div class="mb-3">
                  <label for="nom" class="form-label">Nom:</label>
                  <input type="text" id="nom" formControlName="nom" class="form-control">
                  <div *ngIf="submitted && formControls.nom.errors" class="text-danger">
                      <div *ngIf="formControls.nom.errors.required">Le nom est requis.</div>
                  </div>
              </div>
              <div class="mb-3">
                  <label for="prenom" class="form-label">Prénom:</label>
                  <input type="text" id="prenom" formControlName="prenom" class="form-control">
              </div>
              <div class="mb-3">
                  <label for="dateNaissance" class="form-label">Date de naissance:</label>
                  <input type="date" id="dateNaissance" formControlName="dateNaissance" class="form-control">
              </div>
              <div class="mb-3">
                  <label for="taille" class="form-label">Taille (cm):</label>
                  <input type="number" id="taille" formControlName="taille" class="form-control">
              </div>
              <div class="mb-3">
                  <label for="poids" class="form-label">Poids (kg):</label>
                  <input type="number" id="poids" formControlName="poids" class="form-control">
              </div>
              <div class="form-check mb-3">
                  <input type="checkbox" id="maladie" formControlName="maladie" class="form-check-input">
                  <label for="maladie" class="form-check-label">Maladie</label>
              </div>
              <div class="form-check mb-3">
                  <input type="checkbox" id="infirmite" formControlName="infirmite" class="form-check-input">
                  <label for="infirmite" class="form-check-label">Infirmite</label>
              </div>
              <div class="form-check mb-3">
                  <input type="checkbox" id="maladiesPsychiatrique" formControlName="maladiesPsychiatrique" class="form-check-input">
                  <label for="maladiesPsychiatrique" class="form-check-label">Maladies Psychiatriques</label>
              </div>
              <div class="form-check mb-3">
                  <input type="checkbox" id="maladiesCancereuses" formControlName="maladiesCancereuses" class="form-check-input">
                  <label for="maladiesCancereuses" class="form-check-label">Maladies Cancéreuses</label>
              </div>
              <div class="form-check mb-3">
                  <input type="checkbox" id="operations" formControlName="operations" class="form-check-input">
                  <label for="operations" class="form-check-label">Opérations</label>
              </div>
              <div class="mb-3">
                  <label for="descriptionMaladies" class="form-label">Description Maladies:</label>
                  <textarea id="descriptionMaladies" formControlName="descriptionMaladies" class="form-control"></textarea>
              </div>
              <div class="mb-3">
                  <label for="descriptionInfirmite" class="form-label">Description Infirmite:</label>
                  <textarea id="descriptionInfirmite" formControlName="descriptionInfirmite" class="form-control"></textarea>
              </div>
              <div class="mb-3">
                  <label for="descriptionMaladiesPsychiatriques" class="form-label">Description Maladies Psychiatriques:</label>
                  <textarea id="descriptionMaladiesPsychiatriques" formControlName="descriptionMaladiesPsychiatriques" class="form-control"></textarea>
              </div>
              <div class="mb-3">
                  <label for="descriptionMaladiesCancereuses" class="form-label">Description Maladies Cancéreuses:</label>
                  <textarea id="descriptionMaladiesCancereuses" formControlName="descriptionMaladiesCancereuses" class="form-control"></textarea>
              </div>
              <div class="mb-3">
                  <label for="descriptionOperations" class="form-label">Description Opérations:</label>
                  <textarea id="descriptionOperations" formControlName="descriptionOperations" class="form-control"></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Ajouter enfant</button>
          </form>
          </div>
          <!-- Modal footer -->
          <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fermer</button>
          </div>
      </div>
  </div>
</div>

<div class="container mt-5">
  <h2>Liste des enfants</h2>
  <table class="table">
      <thead>
          <tr>
            <th>Nom</th>
            <th>Prénom</th>
            <th>Date de naissance</th>
            <th>Taille (cm)</th>
            <th>Poids (kg)</th>
            <th>Maladie</th>
            <th>Infirmite</th>
            <th>Maladies Psychiatriques</th>
            <th>Maladies Cancéreuses</th>
            <th>Opérations</th>
            <th>Description Maladies</th>
            <th>Description Infirmite</th>
            <th>Description Maladies Psychiatriques</th>
            <th>Description Maladies Cancéreuses</th>
            <th>Description Opérations</th>
            <th>Actions</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let enfant of enfants">
              <td>{{ enfant.nom }}</td>
              <td>{{ enfant.prenom }}</td>
              <td>{{ enfant.dateNaissance | date }}</td>
              <td>{{ enfant.taille }}</td>
              <td>{{ enfant.poids }}</td>
              <td>{{ enfant.maladie ? 'Oui' : 'Non' }}</td>
              <!-- Ajoutez les autres colonnes -->
              <td>
                  <!-- Bouton Modifier -->
                  <button class="btn btn-success me-2" (click)="modifierEnfant(enfant.id)">
                      <i class="bi bi-pencil"></i> Modifier
                  </button>
                  <!-- Bouton Supprimer -->
                  <button class="btn btn-danger" (click)="deleteEnfant(enfant.id)">
                      <i class="bi bi-trash"></i> Supprimer
                  </button>
              </td>
          </tr>
      </tbody>
  </table>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Initialisation du Modal -->
<script>
  var myModal = new bootstrap.Modal(document.getElementById('myModal'), {});
  myModal.show();
</script>
